{"ast":null,"code":"import _objectSpread from\"/Users/bobby/Desktop/Covid19_VisualizationReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/bobby/Desktop/Covid19_VisualizationReact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Card,CardHeader,CardBody,Button,FormGroup}from\"shards-react\";import DisplayPieChart from'../chart/pieChart.component';import{Typeahead}from'react-bootstrap-typeahead';var initialState={searchInput:[],chartData:[],chartInnerTitle:\"\",render:false,renderKey:0,previousSearch:\"\",filterResult:[]};var CountryCaseStats=function CountryCaseStats(props){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setstate=_useState2[1];var displayChart=function displayChart(){var countryData=[];var noSearchRecordRender=true;if(state.previousSearch!==state.searchInput){var percentageActive=(state.filterResult[0].active/state.filterResult[0].totalCases).toFixed(2);var percentageCritical=(state.filterResult[0].critical/state.filterResult[0].totalCases).toFixed(2)==0?0.01:(state.filterResult[0].critical/state.filterResult[0].totalCases).toFixed(2);var percentageRecovered=(state.filterResult[0].recovered/state.filterResult[0].totalCases).toFixed(2)==0?0.01:(state.filterResult[0].recovered/state.filterResult[0].totalCases).toFixed(2);var percentageDeaths=(state.filterResult[0].totalDeaths/state.filterResult[0].totalCases).toFixed(2)==0?0.01:(state.filterResult[0].totalDeaths/state.filterResult[0].totalCases).toFixed(2);countryData.push({item:\"Active\",count:~~(percentageActive*100),percent:parseFloat(percentageActive)});countryData.push({item:\"Critical\",count:~~(percentageCritical*100),percent:parseFloat(percentageCritical)});countryData.push({item:\"Recovered\",count:~~(percentageRecovered*100),percent:parseFloat(percentageRecovered)});countryData.push({item:\"Deaths\",count:~~(percentageDeaths*100),percent:parseFloat(percentageDeaths)});noSearchRecordRender=false;setstate({searchInput:state.searchInput,chartData:countryData,chartInnerTitle:state.filterResult[0].totalCases,render:true,previousSearch:state.searchInput});}if(noSearchRecordRender&&state.previousSearch!==state.searchInput){setstate(_objectSpread({},state,{render:true}));}};var handleChange=function handleChange(filter){console.log(filter);if(Array.isArray(filter)&&filter.length>0){setstate({searchInput:filter[0].country,chartData:[],filterResult:filter});}};var searchNotFoundStyle={color:'#FF0000'};return/*#__PURE__*/React.createElement(Card,{small:true,className:\"h-100\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"border-bottom\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"m-0\"},props.title)),/*#__PURE__*/React.createElement(CardBody,{className:\"py-0\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Typeahead,{id:\"filtering-example\",caseSensitive:true,labelKey:function labelKey(option){return\"\".concat(option.country);},onChange:handleChange,options:props.countryCaseData,placeholder:\"Enter Country Name...\"})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Button,{theme:\"primary\",onClick:displayChart},\"Search\")),/*#__PURE__*/React.createElement(\"div\",{id:\"containerPieChart\",key:state.searchInput}),state.chartData&&state.chartData.length>0&&/*#__PURE__*/React.createElement(DisplayPieChart,{innerChartTitle:state.chartInnerTitle,chartData:state.chartData}),state.chartData&&state.chartData.length===0&&state.render&&/*#__PURE__*/React.createElement(\"h5\",{className:\"m-0\",style:searchNotFoundStyle},\" No Search Record Found \")));};export default CountryCaseStats;","map":{"version":3,"sources":["/Users/bobby/Desktop/Covid19_VisualizationReact/src/component/statistics/countryCaseStats.component.jsx"],"names":["React","useState","Card","CardHeader","CardBody","Button","FormGroup","DisplayPieChart","Typeahead","initialState","searchInput","chartData","chartInnerTitle","render","renderKey","previousSearch","filterResult","CountryCaseStats","props","state","setstate","displayChart","countryData","noSearchRecordRender","percentageActive","active","totalCases","toFixed","percentageCritical","critical","percentageRecovered","recovered","percentageDeaths","totalDeaths","push","item","count","percent","parseFloat","handleChange","filter","console","log","Array","isArray","length","country","searchNotFoundStyle","color","title","option","countryCaseData"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardHeader, CardBody, Button, FormGroup } from \"shards-react\";\nimport DisplayPieChart from '../chart/pieChart.component';\nimport { Typeahead } from 'react-bootstrap-typeahead';\n\nconst initialState = {\n    searchInput: [],\n    chartData: [],\n    chartInnerTitle: \"\",\n    render: false,\n    renderKey: 0,\n    previousSearch: \"\",\n    filterResult: []\n}\n\nconst CountryCaseStats = (props) => {\n\n    const [state, setstate] = useState(initialState);\n\n\n    const displayChart = () => {\n\n        const countryData = [];\n        let noSearchRecordRender = true;\n\n        if (state.previousSearch !== state.searchInput) {\n\n            const percentageActive = ((state.filterResult[0].active / state.filterResult[0].totalCases)).toFixed(2);\n            const percentageCritical = (((state.filterResult[0].critical / state.filterResult[0].totalCases)).toFixed(2)) == 0 ? 0.01 : (((state.filterResult[0].critical / state.filterResult[0].totalCases)).toFixed(2))\n            const percentageRecovered = (((state.filterResult[0].recovered / state.filterResult[0].totalCases))).toFixed(2) == 0 ? 0.01 : (((state.filterResult[0].recovered / state.filterResult[0].totalCases))).toFixed(2)\n            const percentageDeaths = (((state.filterResult[0].totalDeaths / state.filterResult[0].totalCases))).toFixed(2) == 0 ? 0.01 : (((state.filterResult[0].totalDeaths / state.filterResult[0].totalCases))).toFixed(2)\n\n            countryData.push({\n                item: \"Active\",\n                count: ~~(percentageActive * 100),\n                percent: parseFloat(percentageActive)\n            });\n\n            countryData.push({\n                item: \"Critical\",\n                count: ~~(percentageCritical * 100),\n                percent: parseFloat(percentageCritical)\n            });\n\n            countryData.push({\n                item: \"Recovered\",\n                count: ~~(percentageRecovered * 100),\n                percent: parseFloat(percentageRecovered)\n            });\n\n            countryData.push({\n                item: \"Deaths\",\n                count: ~~(percentageDeaths * 100),\n                percent: parseFloat(percentageDeaths)\n            });\n            noSearchRecordRender = false;\n            setstate({ searchInput: state.searchInput, chartData: countryData, chartInnerTitle: state.filterResult[0].totalCases, render: true, previousSearch: state.searchInput })\n        }\n        if (noSearchRecordRender && state.previousSearch !== state.searchInput) {\n            setstate({ ...state, render: true })\n        }\n    }\n\n    const handleChange = (filter) => {\n        console.log(filter);\n        if (Array.isArray(filter) && filter.length > 0) {\n            setstate({ searchInput: filter[0].country, chartData: [], filterResult: filter })\n        }\n    }\n\n    const searchNotFoundStyle = {\n        color: '#FF0000'\n    }\n\n    return (\n\n        <Card small className=\"h-100\">\n            <CardHeader className=\"border-bottom\">\n                <h6 className=\"m-0\">{props.title}</h6>\n            </CardHeader>\n            <CardBody className=\"py-0\">\n                <FormGroup>\n                    <Typeahead\n                        id=\"filtering-example\"\n                        caseSensitive={true}\n                        labelKey={(option) => `${option.country}`}\n                        onChange={handleChange}\n                        options={props.countryCaseData}\n                        placeholder=\"Enter Country Name...\"\n                    />\n                </FormGroup>\n                <FormGroup>\n                    <Button theme=\"primary\" onClick={displayChart}>Search</Button>\n                </FormGroup>\n                <div id=\"containerPieChart\" key={state.searchInput} />\n\n                {state.chartData && state.chartData.length > 0 && (\n                    <DisplayPieChart innerChartTitle={state.chartInnerTitle} chartData={state.chartData} />\n                )}\n\n                {state.chartData && state.chartData.length === 0 && state.render && (\n                    <h5 className=\"m-0\" style={searchNotFoundStyle}> No Search Record Found </h5>\n                )}\n            </CardBody>\n\n        </Card>\n    );\n}\n\nexport default CountryCaseStats;\n"]},"metadata":{},"sourceType":"module"}