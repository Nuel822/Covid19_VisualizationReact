{"ast":null,"code":"var _jsxFileName = \"/Users/bobby/Desktop/React_Covid19Visualization/covid19_visualization_react/src/component/statistics/countryStats.component.jsx\";\nimport React, { useEffect } from 'react';\nimport DataSet from '@antv/data-set';\nimport { Chart } from '@antv/g2';\nimport { CardHeader, CardBody, Card } from \"shards-react\";\nimport axios from 'axios';\n\nclass CountryStats extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      geoData: []\n    };\n  }\n\n  async componentDidMount() {\n    const response = await axios.get('https:/g2.antv.vision/en/examples/data/world.geo.json');\n    const json = await response.data;\n    this.setState({\n      geoData: json\n    });\n    const ds = new DataSet();\n    const dv = ds.createView('back').source(this.state.geoData, {\n      type: 'GeoJSON'\n    });\n    console.log(this.state);\n    const userDv = ds.createView().source(props.countryData).transform({\n      geoDataView: dv,\n      field: 'name',\n      type: 'geo.centroid',\n      as: ['longitude', 'latitude']\n    });\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      height: 500\n    });\n    chart.scale({\n      longitude: {\n        sync: true\n      },\n      latitude: {\n        sync: true\n      }\n    });\n    chart.axis(false);\n    chart.legend({\n      position: 'right'\n    });\n    chart.tooltip({\n      showTitle: false,\n      showMarkers: false\n    });\n    const bgView = chart.createView();\n    bgView.data(dv.rows);\n    bgView.tooltip(false);\n    bgView.polygon().position('longitude*latitude').color('#ebedf0').style({\n      lineWidth: 1,\n      stroke: '#fafbfc'\n    });\n    const userView = chart.createView();\n    userView.data(userDv.rows);\n    userView.point().position('longitude*latitude').color('#1890ff').shape('circle').size('value', [5, 15]).style({\n      lineWidth: 1,\n      stroke: '#1890ff'\n    });\n    userView.interaction('element-active');\n    chart.render();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Card, {\n      small: true,\n      className: \"h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      className: \"border-bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, this.props.title)), /*#__PURE__*/React.createElement(CardBody, {\n      className: \"pt-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default CountryStats;","map":{"version":3,"sources":["/Users/bobby/Desktop/React_Covid19Visualization/covid19_visualization_react/src/component/statistics/countryStats.component.jsx"],"names":["React","useEffect","DataSet","Chart","CardHeader","CardBody","Card","axios","CountryStats","Component","constructor","props","state","geoData","componentDidMount","response","get","json","data","setState","ds","dv","createView","source","type","console","log","userDv","countryData","transform","geoDataView","field","as","chart","container","autoFit","height","scale","longitude","sync","latitude","axis","legend","position","tooltip","showTitle","showMarkers","bgView","rows","polygon","color","style","lineWidth","stroke","userView","point","shape","size","interaction","render","title"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport DataSet from '@antv/data-set';\nimport { Chart } from '@antv/g2';\nimport { CardHeader, CardBody, Card } from \"shards-react\";\nimport axios from 'axios'\n\n\n\n\n\nclass CountryStats extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { geoData: [] };\n  }\n\n  async componentDidMount() {\n    \n\n    const response = await axios.get('https:/g2.antv.vision/en/examples/data/world.geo.json');\n    const json = await response.data;\n    this.setState({geoData: json})\n\n    const ds = new DataSet();\n    const dv = ds.createView('back').source(this.state.geoData, {\n      type: 'GeoJSON',\n    });\n\n   console.log(this.state)\n\n    const userDv = ds\n      .createView()\n      .source(props.countryData)\n      .transform({\n        geoDataView: dv,\n        field: 'name',\n        type: 'geo.centroid',\n        as: ['longitude', 'latitude'],\n      });\n\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      height: 500,\n    });\n\n    chart.scale({\n      longitude: {\n        sync: true,\n      },\n      latitude: {\n        sync: true,\n      },\n    });\n    chart.axis(false);\n\n    chart.legend({ position: 'right' });\n    chart.tooltip({\n      showTitle: false,\n      showMarkers: false\n    });\n\n    const bgView = chart.createView();\n    bgView.data(dv.rows);\n    bgView.tooltip(false);\n    bgView\n      .polygon()\n      .position('longitude*latitude')\n      .color('#ebedf0')\n      .style({\n        lineWidth: 1,\n        stroke: '#fafbfc',\n      });\n\n    const userView = chart.createView();\n    userView.data(userDv.rows);\n    userView\n      .point()\n      .position('longitude*latitude')\n      .color('#1890ff')\n      .shape('circle')\n      .size('value', [5, 15])\n      .style({\n        lineWidth: 1,\n        stroke: '#1890ff',\n      });\n    userView.interaction('element-active');\n    chart.render();\n\n  };\n\n  render() {\n\n    return (\n      <>\n        <Card small className=\"h-100\">\n          <CardHeader className=\"border-bottom\">\n            <h6 className=\"m-0\">{this.props.title}</h6>\n          </CardHeader>\n          <CardBody className=\"pt-0\">\n            <div id=\"container\" />\n          </CardBody>\n        </Card>\n      </>\n    );\n  }\n\n}\nexport default CountryStats;"]},"metadata":{},"sourceType":"module"}